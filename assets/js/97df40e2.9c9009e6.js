"use strict";(self.webpackChunkb_2_dvl_docs_site=self.webpackChunkb_2_dvl_docs_site||[]).push([[6556],{5726:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>f,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"tutorial/open-loop-inference","title":"Open-Loop Inference","description":"Bench2Drive-VL supports open-loop VQA evaluation via VQA dataset.","source":"@site/docs/tutorial/open-loop-inference.md","sourceDirName":"tutorial","slug":"/tutorial/open-loop-inference","permalink":"/Bench2Drive-VL/docs/next/tutorial/open-loop-inference","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Closed-Loop Inference","permalink":"/Bench2Drive-VL/docs/next/tutorial/closed-loop-inference"},"next":{"title":"Evaluation","permalink":"/Bench2Drive-VL/docs/next/tutorial/evaluation"}}');var i=t(4848),r=t(8453);const s={sidebar_position:4},a="Open-Loop Inference",c={},l=[{value:"Write a config file",id:"write-a-config-file",level:2},{value:"Start to inference",id:"start-to-inference",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"open-loop-inference",children:"Open-Loop Inference"})}),"\n",(0,i.jsx)(n.p,{children:"Bench2Drive-VL supports open-loop VQA evaluation via VQA dataset."}),"\n",(0,i.jsx)(n.h2,{id:"write-a-config-file",children:"Write a config file"}),"\n",(0,i.jsxs)(n.p,{children:["Write a config file under ",(0,i.jsx)(n.code,{children:"./B2DVL_Adapter"})," for inferencing framework."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="your_infer_config.json"',children:'{\n    "TASK_CONFIGS": {\n        "INFER_SUBSET": false, // inference a subset of given dataset\n        "USE_CHECKPOINT": true, // record the process of inference\n        "SUBSET_FILE": "./infer_configs/subset.txt", // subset file, leave blank if not used\n        "CHECKPOINT_FILE": "./infer_configs/finished_scenarios.txt", // checkpoint file, leave blank if not used\n        "ENTRY_EXIT_FILE": "./infer_configs/entry_exits.json", // the file which specifies entry and exit point of certain scenario, \n        // you can create a file with "{}" as content if do not specify\n        "FRAME_PER_SEC": 10 // sensor frame\n    },\n    "INFERENCE_BASICS": {\n        "INPUT_WINDOW": 1,\n        "CONVERSATION_WINDOW": 2,\n        "USE_ALL_CAMERAS": true,\n        "NO_HISTORY_MODE": false,\n        "APPEND_QUESTION": true,\n        "APPENDIX_FILE": "./infer_configs/append_questions.json" // not used now, to be removed\n    },\n    "CHAIN": {\n        "NODE": [43, 50],\n        "EDGE": {\n            "43": [50],\n            "50": []\n        },\n        "INHERIT": {\n            "19": [43, 7],\n            "15": [7]\n        },\n        "USE_GT": []\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"start-to-inference",children:"Start to inference"}),"\n",(0,i.jsx)(n.p,{children:"Run the start up script you just wrote."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"cd ./B2DVL_Adapter\npython inference.py --model Qwen2.5VL --model_path /path/to/Qwen2.5VL-3B-Instruct --config_dir /path/to/your_infer_config.json --image_dir /path/to/Bench2Drive/dataset --vqa_dir /path/to/vqa/dataset --num_workers 4 --out_dir ./infer_outputs\n"})})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var o=t(6540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);